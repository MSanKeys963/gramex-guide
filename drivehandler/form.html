<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DriveHandler upload page</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body class="container">

  <nav class="menu">
    <h1><a href=".">Back to DriveHandler</a></h1>
  </nav>

  <section class="content">
    <h1>Upload files</h1>

    <form action="drive" method="POST" enctype="multipart/form-data">
      <input name="file" type="file" multiple>
      <input name="desc" placeholder="Description">
      <input type="hidden" name="_xsrf" value="{{ handler.xsrf_token }}">
      <button type="submit">Submit</button>
    </form>

    <button id="put">PUT</button>
    <script src="/ui/jquery/dist/jquery.min.js"></script>
    <script>
      $('#put').on('click', function () {
        var formData = new FormData()
        formData.append('id', '1')
        formData.append('file', document.querySelector('input').files[0])
        $.ajax('drive', {
          type: 'PUT',
          data: formData,
          contentType: false,
          processData: false,
        }).done(console.log).fail(console.log)
      })
    </script>


    <hr>
    <p>When you submit the form, you'll see a JSON response.</p>
    <p>Come back to this page and <strong><a href="drive?_format=html">click here to see uploaded files</a></strong></p>
  </section>
</body>
</html>
